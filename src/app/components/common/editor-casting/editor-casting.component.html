<div class="modal-body">
  <form [formGroup]="formProyecto">
    <ngx-spinner
      name="loadCasting"
      [fullScreen]="true"
      type="ball-scale-multiple"
      size="medium"
    >
      <p class="loading">...</p>
    </ngx-spinner>
    <div class="row">
      <div class="row">
        <strong class="abc mt-2">{{
          "proyectos.form-Generales" | translate
        }}</strong>
        <hr />
        <div class="col-md-6 col-sm-6">
          <label>{{ "proyectos.form-nombre" | translate }}</label>
          <input type="text" class="form-control" formControlName="nombre" />
          <label>{{ "proyectos.form-cliente" | translate }}</label>
          <input
            type="text"
            class="form-control"
            formControlName="nombreCliente"
          />
          <label>{{ "proyectos.form-casaproductora" | translate }}</label>
          <input
            type="text"
            class="form-control"
            formControlName="casaProductora"
          />
          <label>{{ "proyectos.form-apertura" | translate }}</label>
          <input
            class="form-control"
            formControlName="fechaApertura"
            [owlDateTimeTrigger]="dt1"
            [owlDateTime]="dt1"
          />
          <owl-date-time #dt1 [pickerType]="'calendar'"></owl-date-time>
          <label>{{ "proyectos.form-cierre" | translate }}</label>
          <input
            class="form-control"
            formControlName="fechaCierre"
            [owlDateTimeTrigger]="dt2"
            [owlDateTime]="dt2"
          />
          <owl-date-time #dt2 [pickerType]="'calendar'"></owl-date-time>

          <div class="d-block">
            <div class="d-block mb-1">
              <input
                class="form-check-input"
                type="checkbox"
                formControlName="aceptaAutoInscripcionModelos"
                (change)="onChangeInscripcionAutomatica()"
              />
              <label class="form-check-label" for="flexCheckDefault">
                &nbsp;{{ "proyectos.form-acepta-autoinscripcion" | translate }}
              </label>
            </div>
            <div class="d-block mb-1">
              <input
                class="form-check-input"
                type="checkbox"
                formControlName="cierreAutomatico"
                (change)="onChangeCierreAutomatico()"
              />
              <label class="form-check-label" for="flexCheckDefault">
                &nbsp;{{ "proyectos.form-cierre-automatico" | translate }}
              </label>
            </div>
            <div class="d-block mb-1">
              <input
                class="form-check-input"
                type="checkbox"
                formControlName="aperturaAutomatica"
                (change)="onChangeAperturaAutomatica()"
              />
              <label class="form-check-label" for="flexCheckDefault">
                &nbsp;{{ "proyectos.form-apertura-automatica" | translate }}
              </label>
            </div>
          </div>
          <h6>{{ "proyectos.externospuedenver" | translate }}</h6>
          <div class="d-block">
            <div class="d-block mb-1">
              <input
                class="form-check-input"
                type="checkbox"
                formControlName="verRedesSociales"
                (change)="onChangeVerRedesSociales()"
              />
              <label class="form-check-label" for="flexCheckDefault">
                &nbsp;{{ "proyectos.VerRedesSociales" | translate }}
              </label>
            </div>
            <div class="d-block mb-1">
              <input
                class="form-check-input"
                type="checkbox"
                formControlName="verTelefono"
                (change)="onChangeVerTelefono()"
              />
              <label class="form-check-label" for="flexCheckDefault">
                &nbsp;{{ "proyectos.VerTelefono" | translate }}
              </label>
            </div>
            <div class="d-block mb-1">
              <input
                class="form-check-input"
                type="checkbox"
                formControlName="verDireccion"
                (change)="onChangeVerDireccion()"
              />
              <label class="form-check-label" for="flexCheckDefault">
                &nbsp;{{ "proyectos.VerDireccion" | translate }}
              </label>
            </div>
            <div class="d-block mb-1">
              <input
                class="form-check-input"
                type="checkbox"
                formControlName="verEmail"
                (change)="onChangeVerEmail()"
              />
              <label class="form-check-label" for="flexCheckDefault">
                &nbsp;{{ "proyectos.VerEmail" | translate }}
              </label>
            </div>
            <div class="d-block mb-1">
              <input
                class="form-check-input"
                type="checkbox"
                formControlName="verHabilidades"
                (change)="onChangeVerHabilidades()"
              />
              <label class="form-check-label" for="flexCheckDefault">
                &nbsp;{{ "proyectos.VerHabilidades" | translate }}
              </label>
            </div>
            <div class="d-block mb-1">
              <input
                class="form-check-input"
                type="checkbox"
                formControlName="verDatosGenerales"
                (change)="onChangeVerDatosGenerales()"
              />
              <label class="form-check-label" for="flexCheckDefault">
                &nbsp;{{ "proyectos.VerDatosGenerales" | translate }}
              </label>
            </div>
            <div class="d-block mb-1" *ngIf="false">
              <input
                class="form-check-input"
                type="checkbox"
                formControlName="verGaleriaPersonal"
                (change)="onChangeVerGaleriaPersonal()"
              />
              <label class="form-check-label" for="flexCheckDefault">
                &nbsp;{{ "proyectos.VerGaleriaPersonal" | translate }}
              </label>
            </div>
            <div class="d-block mb-1">
              <input
                class="form-check-input"
                type="checkbox"
                formControlName="verComentarios"
                (change)="onChangeVerComentarios()"
              />
              <label class="form-check-label" for="flexCheckDefault">
                &nbsp;{{ "proyectos.VerComentarios" | translate }}
              </label>
            </div>
          </div>
        </div>
      <div class="col-md-6 col-sm-6 d-flex flex-column align-items-center justify-content-start">
        <div class="w-100 d-flex flex-column align-items-center">

          <!-- Logo Casting -->
          <div class="mb-4 text-center" style="max-width: 300px; width: 100%;">
            <div class="img-space mb-2">
              <ng-container *ngIf="isImageLoading; else elseTemplate">
                <img [src]="logoCasting" class="responsive" />
              </ng-container>
              <ng-template #elseTemplate>
                <img [src]="logoDefault" class="responsive" />
              </ng-template>
            </div>

            <input
              #file
              type="file"
              (click)="$event.target.value = null"
              (change)="handleUpload($event)"
              accept=".png, .jpg, .jpeg, .gif"
              class="d-none"
            />
            <alert type="danger" *ngIf="logoCasting == null">
              <strong>{{ "proyectos.form-logo-error" | translate }}</strong>
            </alert>

            <button
              class="btn btn-primary w-100 mt-2"
              (click)="file.click()"
              style="max-width: 300px;"
            >
              {{ "proyectos.form-logo" | translate }}
            </button>
          </div>

          <!-- Logo Promotora -->
          <div class="mb-4 text-center" style="max-width: 300px; width: 100%;">
            <div class="img-space mb-2">
              <ng-container *ngIf="isImageLoadingPromotora; else elseTemplate2">
                <img [src]="logoPromotora" class="responsive" />
              </ng-container>
              <ng-template #elseTemplate2>
                <img [src]="logoDefault" class="responsive" />
              </ng-template>
            </div>

            <input
              #filePromotora
              type="file"
              (click)="$event.target.value = null"
              (change)="handleUploadPromotora($event)"
              accept=".png, .jpg, .jpeg, .gif"
              class="d-none"
            />
            <button
              class="btn btn-primary w-100 mt-2"
              (click)="filePromotora.click()"
              style="max-width: 300px;"
            >
              {{ "proyectos.form-logo-promotora" | translate }}
            </button>
          </div>

        </div>
      </div>

      </div>
      <br />
      <div class="row mb-5">
        <div class="col-md-12">
          <label>{{ "proyectos.form-descripcion" | translate }}</label>
          <quill-editor
            [modules]="modulesQuill"
            formControlName="descripcion"
            style="height: 500px"
          ></quill-editor>
        </div>
        <br />
      </div>
      <br />
      <div class="row mt-5">
        <strong class="abc">{{
          "proyectos.form-contactos" | translate
        }}</strong>
        <hr />
      </div>
      <div class="col-md-12 col-sm-12 mt-2 mb-0">
        <app-contactos-cliente
          #contactos
          [Casting]="CastingActual"
        ></app-contactos-cliente>
      </div>
      <div class="row mt-4">
        <strong class="abc">{{
          "proyectos.form-categorias" | translate
        }}</strong>
        <hr />
      </div>
      <div class="col-md-12 col-sm-12 mt-2">
        <app-categorias-casting
          #categorias
          [Casting]="CastingActual"
          (guardarCasting)="recibidoGuardar($event)"
        ></app-categorias-casting>
      </div>
      <div class="row mt-4">
        <strong class="abc">{{ "proyectos.form-eventos" | translate }}</strong>
        <hr />
      </div>
      <div class="col-md-12 col-sm-12 mt-2">
        <app-eventos-casting
          #eventos
          [Casting]="CastingActual"
        ></app-eventos-casting>
      </div>
      <div class="row">
        <div class="d-flex justify-content-end">
          <div class="">
            <button
              class="ms-3 mt-3 mb-3 btn btn-info"
              (click)="getLink()"
              [disabled]="formProyecto.invalid"
            >
              <label>{{ "proyectos.form-compartir" | translate }}</label>
            </button>
          </div>
          <div class="">
            <button
              class="ms-3 mt-3 mb-3 btn btn-danger"
              (click)="salvarDatos()"
              [disabled]="formProyecto.invalid"
            >
              <label>{{ "proyectos.form-salvar" | translate }}</label>
            </button>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
